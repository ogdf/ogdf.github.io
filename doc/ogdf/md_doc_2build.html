<!-- HTML header for doxygen 1.8.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<title>ogdf: build</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ogdf-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td>
   <table border="0" cellspacing="0" cellpadding="0">
    <tr>
     <td width="90"><a href="http://www.ogdf.net/" title="Go to www.ogdf.net"><img style="padding: 0 .5em; border-width: 0px" src="ogdf-logo.png"/></a></td>
     <td align="left"><h1 class="ogdftitle">Open<br>Graph Drawing<br>Framework</h1></td>
     <td align="left" valign="bottom" >
      <span style="font-size:110%; color:rgb(56,95,118)">&nbsp;v. 2023.09 (Elderberry)</span><br>&nbsp;
     </td>
    </tr>
   </table>
  </td>
 </tr>
 <tr>
  <td valign="bottom">
   <div class="menubox">
    <table border="0" cellpadding="0" cellspacing="0" class="menutable">
     <tr>
      <td><a class="menu" href="index.html" title="Start page with overview">Overview</a></td>
      <td><a class="menu" href="hierarchy.html" title="Inheritance hierarchies">Class&nbsp;Hierarchy</a></td>
      <td><a class="menu" href="classes.html" title="Alphabetical list of classes">Class&nbsp;Index</a></td>
      <td><a class="menu" href="annotated.html" title="Classes with brief descriptions">Class&nbsp;List</a></td>
      <td><a class="menu" href="functions.html" title="Complete list of member functions, enumerations, and variables">Members</a></td>
      <td><a class="menu" href="namespaces.html" title="Namespaces with brief descriptions">Namespaces</a></td>
      <td><a class="menu" href="files.html" title="Complete list of files with brief descriptions">Source&nbsp;Files</a></td>
      <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
     </tr>
    </table>
   </div><br>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_doc_2build.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">build</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>OGDF » <a class="el" href="md_doc_2dev-guide.html">Developer's Guide</a> » Build Guide</p>
<h1><a class="anchor" id="build"></a>
Build Guide</h1>
<p>The OGDF build configuration is generated using <a href="http://www.cmake.org/">CMake</a>.</p>
<h2><a class="anchor" id="autotoc_md0"></a>
Requirements</h2>
<ul>
<li>CMake 3.8+</li>
<li>C++17 compliant compiler<ul>
<li>gcc 7+</li>
<li>clang 6+</li>
<li>Microsoft Visual C++ 2017 15.8+</li>
</ul>
</li>
<li>GNU Make (in most cases)</li>
<li>Doxygen 1.8.6+ (optional)</li>
</ul>
<h2><a class="anchor" id="autotoc_md1"></a>
Build Configuration</h2>
<p>CMake is a meta-build system that will generate your actual build system. The most common build systems include Unix Makefiles, Visual Studio project files, and XCode project files. We refer to <a href="http://www.cmake.org/runningcmake/">Running CMake</a> for extensive information on using CMake.</p>
<p>Note that CMake allows you to place the generated build system in a separate folder, thus allowing several parallel build configurations (called out-of-source builds). We recommend following this approach.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Unix Examples</h2>
<p>All of the examples cover unix systems. On windows, CMake provides a self-explanatory graphical user interface.</p>
<p>We assume that the directory <code>~/OGDF</code> contains a clone of this repository. In each of the examples we are initially located in the home directory <code>~</code>.</p>
<p>CMake will present you with several options for configuring your build. All of these options are explained by the CMake interface.</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Default Configuration</h3>
<p>This will generate the default build system inside the OGDF directory. Such a configuration is sufficient if you want to compile the Library with a single configuration only.</p>
<div class="fragment"><div class="line">$ cd OGDF</div>
<div class="line">$ cmake .</div>
<div class="line">-- The CXX compiler identification is GNU 10.3.0</div>
<div class="line">-- Check for working CXX compiler: /usr/bin/c++</div>
<div class="line">-- Check for working CXX compiler: /usr/bin/c++ -- works</div>
<div class="line">-- Detecting CXX compiler ABI info</div>
<div class="line">-- Detecting CXX compiler ABI info - done</div>
<div class="line">-- Detecting CXX compile features</div>
<div class="line">-- Detecting CXX compile features - done</div>
<div class="line">-- Performing Test has_mallinfo2</div>
<div class="line">-- Performing Test has_mallinfo2 - Failed</div>
<div class="line">-- Performing Test has_sse3_pmmintrin</div>
<div class="line">-- Performing Test has_sse3_pmmintrin - Success</div>
<div class="line">-- Performing Test has_linux_cpu_macros</div>
<div class="line">-- Performing Test has_linux_cpu_macros - Success</div>
<div class="line">-- Found Doxygen: /bin/doxygen (found version &quot;1.8.13&quot;)</div>
<div class="line">-- The default target builds OGDF (and dependencies like COIN).</div>
<div class="line">--</div>
<div class="line">-- Other important targets:</div>
<div class="line">--          doc: build doxygen documentation (in-source)</div>
<div class="line">--        tests: build tests</div>
<div class="line">--     examples: build examples</div>
<div class="line">--    build-all: build OGDF, tests, examples</div>
<div class="line">-- Configuring done</div>
<div class="line">-- Generating done</div>
<div class="line">-- Build files have been written to: ~/OGDF</div>
</div><!-- fragment --><p>Assuming your system supports Unix Makefiles you could now start the actual build: Note that invoking make with the <code>-j</code> flag will execute jobs in parallel thus speeding up your build.</p>
<div class="fragment"><div class="line">$ make -j8</div>
<div class="line">Scanning dependencies of target COIN</div>
<div class="line">Scanning dependencies of target OGDF</div>
<div class="line">[  0%] Building CXX object CMakeFiles/COIN.dir/src/coin/Clp/ClpConstraintLinear.cpp.o</div>
<div class="line">[  0%] Building CXX object CMakeFiles/COIN.dir/src/coin/Clp/ClpCholeskyBase.cpp.o</div>
<div class="line">[  0%] Building CXX object CMakeFiles/COIN.dir/src/coin/Clp/ClpConstraint.cpp.o</div>
<div class="line">[  1%] Building CXX object CMakeFiles/COIN.dir/src/coin/Clp/ClpCholeskyTaucs.cpp.o</div>
<div class="line">[  1%] Building CXX object CMakeFiles/COIN.dir/src/coin/Clp/ClpCholeskyDense.cpp.o</div>
<div class="line">[  1%] Building CXX object CMakeFiles/COIN.dir/src/coin/Clp/ClpConstraintQuadratic.cpp.o</div>
<div class="line">[  1%] Building CXX object CMakeFiles/COIN.dir/src/coin/Clp/ClpDualRowDantzig.cpp.o</div>
<div class="line">[  1%] Building CXX object CMakeFiles/COIN.dir/src/coin/Clp/ClpDualRowPivot.cpp.o</div>
<div class="line">[  2%] Building CXX object CMakeFiles/OGDF.dir/src/ogdf/augmentation/DfsMakeBiconnected.cpp.o</div>
<div class="line">...</div>
</div><!-- fragment --><p>If the compilation of your code results in an error containing <code>-Werror</code> or <code>C2220</code>, change the default configuration using</p>
<div class="fragment"><div class="line">$ cmake -DOGDF_WARNING_ERRORS=OFF .</div>
</div><!-- fragment --><p>and retry building the project.</p>
<h3><a class="anchor" id="autotoc_md4"></a>
Out-of-Source Build</h3>
<p>An out-of-source build does not modify the source directory. Thus, generating a second out-of-source build will not create any conflicts with the previous one.</p>
<div class="fragment"><div class="line">$ mkdir my-out-of-source-build</div>
<div class="line">$ cd my-out-of-source-build</div>
<div class="line">$ cmake ../OGDF</div>
<div class="line">...</div>
<div class="line">-- Configuring done</div>
<div class="line">-- Generating done</div>
<div class="line">-- Build files have been written to: ~/my-out-of-source-build</div>
</div><!-- fragment --><p>Note that the documentation is always built in-source.</p>
<h3><a class="anchor" id="autotoc_md5"></a>
Custom Configuration</h3>
<p>Creating multiple build configurations is of no use if the configurations do not differ. Run <code>ccmake</code> instead of <code>cmake</code> to modify the build configuration before generating the build system.</p>
<p>This includes the specification of the linear program solver, whether to include OGDF specific assertions (and how to handle them), additional include directories, and the likes. Running <code>ccmake</code> also allows you to specify the compiler, linker and the respective flags. Note that the availability of some options may depend on other configuration values.</p>
<div class="fragment"><div class="line">$ mkdir ogdf-release ogdf-debug</div>
<div class="line">$ cd ogdf-release</div>
<div class="line">$ cmake ../OGDF # default configuration</div>
<div class="line">$ cd ../ogdf-debug</div>
<div class="line">$ cmake ../OGDF</div>
<div class="line">$ ccmake .</div>
<div class="line"> </div>
<div class="line"> BUILD_SHARED_LIBS               &gt;OFF</div>
<div class="line"> CMAKE_BUILD_TYPE                 Release</div>
<div class="line"> CMAKE_INSTALL_PREFIX             /usr/local</div>
<div class="line"> COIN_SOLVER                      CLP</div>
<div class="line"> OGDF_MEMORY_MANAGER              POOL_TS</div>
<div class="line"> OGDF_SEPARATE_TESTS              OFF</div>
<div class="line"> OGDF_USE_ASSERT_EXCEPTIONS       OFF</div>
<div class="line"> OGDF_WARNING_ERRORS              OFF</div>
<div class="line"> </div>
<div class="line">BUILD_SHARED_LIBS: Whether to build shared libraries instead of static ones.</div>
<div class="line">Press [enter] to edit option</div>
<div class="line">Press [c] to configure</div>
<div class="line">Press [h] for help           Press [q] to quit without generating</div>
<div class="line">Press [t] to toggle advanced mode (Currently Off)</div>
<div class="line"> </div>
<div class="line">....</div>
<div class="line"> </div>
<div class="line"> BUILD_SHARED_LIBS                OFF</div>
<div class="line"> CMAKE_BUILD_TYPE                 Debug</div>
<div class="line"> CMAKE_INSTALL_PREFIX             /usr/local</div>
<div class="line"> COIN_EXTERNAL_SOLVER_INCLUDE_D   /opt/gurobi/linux64/include</div>
<div class="line"> COIN_EXTERNAL_SOLVER_LIBRARIES   /opt/gurobi/linux64/lib/libgurobi70.so</div>
<div class="line"> COIN_SOLVER                      GRB</div>
<div class="line"> OGDF_LEAK_CHECK                  OFF</div>
<div class="line"> OGDF_MEMORY_MANAGER             &gt;MALLOC_TS</div>
<div class="line"> OGDF_SEPARATE_TESTS              OFF</div>
<div class="line"> OGDF_USE_ASSERT_EXCEPTIONS       ON</div>
<div class="line"> OGDF_USE_ASSERT_EXCEPTIONS_WIT   ON_LIBDW</div>
<div class="line"> OGDF_WARNING_ERRORS              OFF</div>
<div class="line"> </div>
<div class="line">OGDF_MEMORY_MANAGER: Memory manager to be used.</div>
<div class="line">Press [enter] to edit option</div>
<div class="line">Press [c] to configure       Press [g] to generate and exit</div>
<div class="line">Press [h] for help           Press [q] to quit without generating</div>
<div class="line">Press [t] to toggle advanced mode (Currently Off)</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md6"></a>
On assertions</h4>
<p>OGDF code has a lot of extra assertions in its code, partly adding running time. These assertions are only activated in debug mode and if the advanced option <code>OGDF_DEBUG_MODE</code> is either set to <code>REGULAR</code> (it is by default) or <code>HEAVY</code> (even more assertions). The assertions (plus a backtrace of the calls) might be very valuable and helpful for debugging (user) code.</p>
<p>There are two modes how failed assertions are handled.</p>
<p>If <code>OGDF_USE_ASSERT_EXCEPTIONS</code> is turned off (default), an <code><a class="el" href="multilevelmixer_8cpp.html#abae872503eb8a0d39feadc8f2a6dcf8d">assert()</a></code> call exits the program. Note that enabling this might hide failed assertions when <code>catch (...)</code> is used. You can get a call stack trace if the program was invoked with a debugger (which is part of many IDEs).</p>
<p>If turned on, an <code>ogdf::AssertionFailed</code> exception is thrown instead. The informational string returned by the <code><a class="el" href="multilevelmixer_8cpp.html#abae872503eb8a0d39feadc8f2a6dcf8d">what()</a></code> method contains the failed expression, its source code file, line, and function. By also setting the <code>OGDF_USE_ASSERT_EXCEPTIONS_WITH_STACK_TRACE</code> variable to <code>ON_LIBDW</code> (if libdw is installed, recommended), <code>ON_LIBBFD</code> (if libbfd from binutils is installed), or <code>ON_LIBUNWIND</code> (if libunwind is installed), a stack trace will be part of the exception's <code><a class="el" href="multilevelmixer_8cpp.html#abae872503eb8a0d39feadc8f2a6dcf8d">what()</a></code> return string. As far as we know, this feature only works on Linux.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
System-wide Installation</h2>
<p>System-wide installation of OGDF is supported through the standard mechanisms provided by CMake. This support, however, is not thoroughly tested and may change in the future.</p>
<p>Current limitations are that Debug and Release installations are not supported at the same time. We also do not provide version information at the moment.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Building User Code</h2>
<p>When you want to build user code that uses OGDF, you have to take care of the correct include paths. You should use <code>&lt;OGDF build directory&gt;/include</code> and <code>&lt;OGDF source directory&gt;/include</code> as include paths, and your OGDF build directory as library path. In case of an in-source build, the build and source directories coincide. It is not supported to have in-source and out-of-source builds at the same time. In case you want to remove an in-source build entirely, do not forget to remove the file <code><a class="el" href="config__autogen_8h.html">include/ogdf/basic/internal/config_autogen.h</a></code>.</p>
<p>If you are running into linking errors, undefined behavior or crashes at runtime, a typical mistake is that OGDF and user code is compiled in different modes (like Debug mode and Release mode). To make sure that your configuration is correct, you might use the file <code><a class="el" href="check-build-mode_8cpp.html">examples/special/check-build-mode.cpp</a></code> and try to compile it using your configuration.</p>
<p>On Unix systems, typical compilation and linkage of user code would look like this:</p>
<div class="fragment"><div class="line"># compile source files</div>
<div class="line">c++ -Ibuild_path/include -Isource_path/include -o file1.o -c file1.cpp</div>
<div class="line">c++ -Ibuild_path/include -Isource_path/include -o file2.o -c file2.cpp</div>
<div class="line"># link source files</div>
<div class="line">c++ -o output_binary -Lbuild_path file1.o file2.o -lOGDF -lCOIN</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md9"></a>
Example CMake configuration</h3>
<p>Since OGDF uses CMake, it is convenient for you to use CMake, too. The file <code>examples/special/CMakeLists.txt</code> contains a basic configuration to start with. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
 <ul>
  <li class="footer">&copy; 1999&ndash;2023 <a href="http://ogdf.net/team/">The OGDF Team</a></li>
 </ul>
</div>
</body>
</html>
